defaults write
-app iTerm
'Custom Color Presets'
-dict-add '<%= @name %>'
'{
<% if @ansi_0_color %>
  "Ansi 0 Color" = {
    "Red Component" = "<%= @ansi_0_color[0] %>";
    "Green Component" = "<%= @ansi_0_color[1] %>";
    "Blue Component" = "<%= @ansi_0_color[2] %>";
  };
<% end %>
<% if @ansi_1_color %>
  "Ansi 1 Color" = {
    "Red Component" = "<%= @ansi_1_color[0] %>";
    "Green Component" = "<%= @ansi_1_color[1] %>";
    "Blue Component" = "<%= @ansi_1_color[2] %>";
  };
<% end %>
<% if @ansi_2_color %>
  "Ansi 2 Color" = {
    "Red Component" = "<%= @ansi_2_color[0] %>";
    "Green Component" = "<%= @ansi_2_color[1] %>";
    "Blue Component" = "<%= @ansi_2_color[2] %>";
  };
<% end %>
<% if @ansi_3_color %>
  "Ansi 3 Color" = {
    "Red Component" = "<%= @ansi_3_color[0] %>";
    "Green Component" = "<%= @ansi_3_color[1] %>";
    "Blue Component" = "<%= @ansi_3_color[2] %>";
  };
<% end %>
<% if @ansi_4_color %>
  "Ansi 4 Color" = {
    "Red Component" = "<%= @ansi_4_color[0] %>";
    "Green Component" = "<%= @ansi_4_color[1] %>";
    "Blue Component" = "<%= @ansi_4_color[2] %>";
  };
<% end %>
<% if @ansi_5_color %>
  "Ansi 5 Color" = {
    "Red Component" = "<%= @ansi_5_color[0] %>";
    "Green Component" = "<%= @ansi_5_color[1] %>";
    "Blue Component" = "<%= @ansi_5_color[2] %>";
  };
<% end %>
<% if @ansi_6_color %>
  "Ansi 6 Color" = {
    "Red Component" = "<%= @ansi_6_color[0] %>";
    "Green Component" = "<%= @ansi_6_color[1] %>";
    "Blue Component" = "<%= @ansi_6_color[2] %>";
  };
<% end %>
<% if @ansi_7_color %>
  "Ansi 7 Color" = {
    "Red Component" = "<%= @ansi_7_color[0] %>";
    "Green Component" = "<%= @ansi_7_color[1] %>";
    "Blue Component" = "<%= @ansi_7_color[2] %>";
  };
<% end %>
<% if @ansi_8_color %>
  "Ansi 8 Color" = {
    "Red Component" = "<%= @ansi_8_color[0] %>";
    "Green Component" = "<%= @ansi_8_color[1] %>";
    "Blue Component" = "<%= @ansi_8_color[2] %>";
  };
<% end %>
<% if @ansi_9_color %>
  "Ansi 9 Color" = {
    "Red Component" = "<%= @ansi_9_color[0] %>";
    "Green Component" = "<%= @ansi_9_color[1] %>";
    "Blue Component" = "<%= @ansi_9_color[2] %>";
  };
<% end %>
<% if @ansi_10_color %>
  "Ansi 10 Color" = {
    "Red Component" = "<%= @ansi_10_color[0] %>";
    "Green Component" = "<%= @ansi_10_color[1] %>";
    "Blue Component" = "<%= @ansi_10_color[2] %>";
  };
<% end %>
<% if @ansi_11_color %>
  "Ansi 11 Color" = {
    "Red Component" = "<%= @ansi_11_color[0] %>";
    "Green Component" = "<%= @ansi_11_color[1] %>";
    "Blue Component" = "<%= @ansi_11_color[2] %>";
  };
<% end %>
<% if @ansi_12_color %>
  "Ansi 12 Color" = {
    "Red Component" = "<%= @ansi_12_color[0] %>";
    "Green Component" = "<%= @ansi_12_color[1] %>";
    "Blue Component" = "<%= @ansi_12_color[2] %>";
  };
<% end %>
<% if @ansi_13_color %>
  "Ansi 13 Color" = {
    "Red Component" = "<%= @ansi_13_color[0] %>";
    "Green Component" = "<%= @ansi_13_color[1] %>";
    "Blue Component" = "<%= @ansi_13_color[2] %>";
  };
<% end %>
<% if @ansi_14_color %>
  "Ansi 14 Color" = {
    "Red Component" = "<%= @ansi_14_color[0] %>";
    "Green Component" = "<%= @ansi_14_color[1] %>";
    "Blue Component" = "<%= @ansi_14_color[2] %>";
  };
<% end %>
<% if @ansi_15_color %>
  "Ansi 15 Color" = {
    "Red Component" = "<%= @ansi_15_color[0] %>";
    "Green Component" = "<%= @ansi_15_color[1] %>";
    "Blue Component" = "<%= @ansi_15_color[2] %>";
  };
<% end %>
<% if @background_color %>
  "Background Color" = {
    "Red Component" = "<%= @background_color[0] %>";
    "Green Component" = "<%= @background_color[1] %>";
    "Blue Component" = "<%= @background_color[2] %>";
  };
<% end %>
<% if @bold_color %>
  "Bold Color" = {
    "Red Component" = "<%= @bold_color[0] %>";
    "Green Component" = "<%= @bold_color[1] %>";
    "Blue Component" = "<%= @bold_color[2] %>";
  };
<% end %>
<% if @cursor_color %>
  "Cursor Color" = {
    "Red Component" = "<%= @cursor_color[0] %>";
    "Green Component" = "<%= @cursor_color[1] %>";
    "Blue Component" = "<%= @cursor_color[2] %>";
  };
<% end %>
<% if @cursor_text_color %>
  "Cursor Text Color" = {
    "Red Component" = "<%= @cursor_text_color[0] %>";
    "Green Component" = "<%= @cursor_text_color[1] %>";
    "Blue Component" = "<%= @cursor_text_color[2] %>";
  };
<% end %>
<% if @foreground_color %>
  "Foreground Color" = {
    "Red Component" = "<%= @foreground_color[0] %>";
    "Green Component" = "<%= @foreground_color[1] %>";
    "Blue Component" = "<%= @foreground_color[2] %>";
  };
<% end %>
<% if @selected_text_color %>
  "Selected Text Color" = {
    "Red Component" = "<%= @selected_text_color[0] %>";
    "Green Component" = "<%= @selected_text_color[1] %>";
    "Blue Component" = "<%= @selected_text_color[2] %>";
  };
<% end %>
<% if @selection_color %>
  "Selection Color" = {
    "Red Component" = "<%= @selection_color[0] %>";
    "Green Component" = "<%= @selection_color[1] %>";
    "Blue Component" = "<%= @selection_color[2] %>";
  };
<% end %>
}'
